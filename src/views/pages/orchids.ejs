<!DOCTYPE html>
<html lang="en">
  <%- include('../partials/head')-%>
  <body>
    <main>
      <%- include('../partials/nav')-%>
      <div class="container col-xxl-12 pt-2">
        <div class="row flex-lg-row-reverse align-items-lg-start g-5">
          <div class="col-12">
            <div class="text-center mb-3">
              <h4 class="section-title">Orchid List</h4>
            </div>
            <div class="text-end mb-3">
              <a href="/orchids/create" class="btn btn-primary"
                >Create New Orchid</a
              >
            </div>

            <div class="table-wrapper">
              <table class="table table-hover table-bordered">
                <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Image</th>
                    <th scope="col">Name</th>
                    <th scope="col">Color</th>
                    <th scope="col">Original</th>
                    <th scope="col">Price</th>
                    <th scope="col">Is Natural</th>
                    <th scope="col">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <% orchids.forEach(function(orchid,index){ %>
                  <tr>
                    <td><%= index + 1 %></td>
                    <td>
                      <figure>
                        <img class="table-img" src="<%= orchid.image %>" />
                      </figure>
                    </td>
                    <td><%= orchid.name %></td>
                    <td><%= orchid.color %></td>
                    <td><%= orchid.original %></td>
                    <td><%= orchid.price %></td>
                    <td><%= orchid.isNatural ? 'Yes' : 'No' %></td>
                    <td>
                      <div class="buttons are-small">
                        <a href="/orchids/<%= orchid._id %>"
                          ><button class="btn btn-warning">Edit</button></a
                        >
                        <button
                          class="btn btn-danger"
                          data-bs-toggle="modal"
                          data-bs-target="#deleteModal<%= orchid._id %>"
                          data-id="<%= orchid._id %>"
                        >
                          Delete
                        </button>
                      </div>
                    </td>
                  </tr>
                  <form
                    id="deleteForm<%= orchid._id %>"
                    action="/orchids/<%= orchid._id %>?_method=DELETE"
                    method="POST"
                  >
                    <input
                      type="hidden"
                      name="orchidId"
                      value="<%= orchid._id %>"
                    />
                  </form>
                  <% })%>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
      <%- include('../partials/footer')-%>
      <!-- Toast -->
      <%- include('../partials/toast')-%>
      <!-- Modal -->
      <%- include('../partials/modal')-%>
    </main>
    <%- include('../scripts/deleteScript')-%>
  </body>
</html>
